print((lambda M: (sum(sum(any(all(M[i,j] > m for m in L[0]) for L in (M[i,:j],M[i,j+1:],M[:i,j].T,M[i+1:,j].T)) for i in range(M.nrows())) for j in range(M.ncols())),max(max(prod((lambda x: (x.index(True)+1 if True in x else len(x) if len(x) else 0))([M[i,j] <= m for m in L])for L in (M[i,:j][0][::-1],M[i,j+1:][0],M[:i,j].T[0][::-1],M[i+1:,j].T[0])) for i in range(M.nrows())) for j in range(M.ncols()))))(matrix([[*map(int, l.strip())] for l in open("in.txt").readlines()])))